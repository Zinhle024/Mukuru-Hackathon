<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Rewards - Mukuru</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="manage.css">
    <style>
        :root {
            --mukuru-charcoal: #0d0d0d;
            --mukuru-dark: #1a1a1a;
            --mukuru-card: #222;
            --mukuru-orange: #FF6600;
            --mukuru-orange-light: rgba(255, 102, 0, 0.15);
            --mukuru-white: #fff;
            --mukuru-light-text: #e0e0e0;
            --mukuru-medium-text: #a0a0a0;
            --mukuru-green: #4cd964;
            --mukuru-purple: #8A2BE2;
        }
        @media (max-width: 900px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1rem;
            }
            nav {
                justify-content: center;
            }
            .points-display {
                font-size: 2.5rem;
                padding: 1rem;
            }
            .rewards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 480px) {
            nav a {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }
            .points-display {
                font-size: 2rem;
            }
            .card {
                padding: 1rem;
            }
            .btn {
                width: 100%;
                justify-content: center;
            }
            .rewards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-fire"></i>
                <span>Mukuru Rewards</span>
            </div>
            <nav>
                <a href="../send&Earn/send.html"><i class="fas fa-paper-plane"></i> Send & Earn</a>
                <a href="../loginpage/signup.html"><i class="fas fa-user-plus"></i> Sign Up</a>
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="../marketplace/marketplace.html"><i class="fas fa-shopping-cart"></i> Marketplace</a>
            </nav>
        </header>
        <div class="dashboard">
            <div class="card points-card">
                <h1>My Rewards</h1>
                <p>Earn points with every transaction and redeem them for exciting rewards</p>
                <div class="points-display pulse" id="points-counter">0 pts</div>
                <div class="progress-section">
                    <div class="progress-label">
                        <span>Bronze Tier</span>
                        <span>Gold Tier (5,000 pts)</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="tier-badge">
                        <i class="fas fa-crown"></i>
                        <span>Silver Tier Member</span>
                    </div>
                </div>
            </div>
            <div class="card">
                <h2 class="card-title"><i class="fas fa-history"></i> Recent Activity</h2>
                <div class="history-list">
                    <div class="history-item">
                        <div class="history-details">
                            <div class="history-name">Coffee Shop Purchase</div>
                            <div class="history-date">28 Aug 2025</div>
                        </div>
                        <div class="history-points positive">+120</div>
                    </div>
                    <div class="history-item">
                        <div class="history-details">
                            <div class="history-name">Gift Voucher Redemption</div>
                            <div class="history-date">25 Aug 2025</div>
                        </div>
                        <div class="history-points negative">-300</div>
                    </div>
                    <div class="history-item">
                        <div class="history-details">
                            <div class="history-name">Grocery Store Purchase</div>
                            <div class="history-date">22 Aug 2025</div>
                        </div>
                        <div class="history-points positive">+200</div>
                    </div>
                    <div class="history-item">
                        <div class="history-details">
                            <div class="history-name">Referral Bonus</div>
                            <div class="history-date">18 Aug 2025</div>
                        </div>
                        <div class="history-points positive">+500</div>
                    </div>
                </div>
                <a href="#" class="view-all">View Full History <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="card">
                <h2 class="card-title"><i class="fas fa-gift"></i> Rewards Marketplace</h2>
                <div class="rewards-grid">
                    <div class="reward-item">
                        <div class="reward-icon"><i class="fas fa-ticket-alt"></i></div>
                        <div class="reward-name">Movie Tickets</div>
                        <div class="reward-cost">1,000 pts</div>
                    </div>
                    <div class="reward-item">
                        <div class="reward-icon"><i class="fas fa-mobile-alt"></i></div>
                        <div class="reward-name">Mobile Airtime</div>
                        <div class="reward-cost">500 pts</div>
                    </div>
                    <div class="reward-item">
                        <div class="reward-icon"><i class="fas fa-sticky-note"></i></div>
                        <div class="reward-name">Digital Stickers</div>
                        <div class="reward-cost">250 pts</div>
                    </div>
                    <div class="reward-item">
                        <div class="reward-icon"><i class="fas fa-shopping-cart"></i></div>
                        <div class="reward-name">Gift Voucher</div>
                        <div class="reward-cost">2,000 pts</div>
                    </div>
                </div>
                <a href="../marketplace/marketplace.html" class="view-all">Browse All Rewards <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="card">
                <h2 class="card-title"><i class="fas fa-trophy"></i> Achievements</h2>
                <div class="achievements">
                    <div class="achievement-item">
                        <div class="achievement-icon"><i class="fas fa-paper-plane"></i></div>
                        <div class="achievement-details">
                            <div class="achievement-name">First Transfer</div>
                            <div class="achievement-desc">Complete your first money transfer</div>
                        </div>
                        <div class="achievement-progress"><i class="fas fa-check-circle"></i></div>
                    </div>
                    <div class="achievement-item">
                        <div class="achievement-icon"><i class="fas fa-users"></i></div>
                        <div class="achievement-details">
                            <div class="achievement-name">Referral Master</div>
                            <div class="achievement-desc">Refer 5 friends to Mukuru</div>
                        </div>
                        <div class="achievement-progress">3/5</div>
                    </div>
                    <div class="achievement-item">
                        <div class="achievement-icon"><i class="fas fa-store"></i></div>
                        <div class="achievement-details">
                            <div class="achievement-name">Frequent Shopper</div>
                            <div class="achievement-desc">Make 10 purchases with Mukuru Card</div>
                        </div>
                        <div class="achievement-progress">7/10</div>
                    </div>
                </div>
                <a href="#" class="view-all">View All Achievements <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
        <div class="card">
            <h2 class="card-title"><i class="fas fa-calendar-alt"></i> Rewards Chase Calendar</h2>
            <p class="calendar-description">Collect stickers by earning points! Every 5 points = 1 sticker. Complete a row to unlock surprise benefits!</p>
            
            <div class="rewards-calendar">
                <div class="calendar-grid">
                    <!-- Week 1 -->
                    <div class="calendar-day">1</div>
                    <div class="calendar-day">2</div>
                    <div class="calendar-day">3</div>
                    <div class="calendar-day">4</div>
                    <div class="calendar-day">5</div>
                    <div class="calendar-day weekend">6</div>
                    <div class="calendar-day weekend">7</div>
                    
                    <!-- Week 2 -->
                    <div class="calendar-day">8</div>
                    <div class="calendar-day">9</div>
                    <div class="calendar-day">10</div>
                    <div class="calendar-day">11</div>
                    <div class="calendar-day">12</div>
                    <div class="calendar-day weekend">13</div>
                    <div class="calendar-day weekend">14</div>
                    
                    <!-- Week 3 -->
                    <div class="calendar-day">15</div>
                    <div class="calendar-day">16</div>
                    <div class="calendar-day">17</div>
                    <div class="calendar-day">18</div>
                    <div class="calendar-day">19</div>
                    <div class="calendar-day weekend">20</div>
                    <div class="calendar-day weekend">21</div>
                    
                    <!-- Week 4 -->
                    <div class="calendar-day">22</div>
                    <div class="calendar-day">23</div>
                    <div class="calendar-day">24</div>
                    <div class="calendar-day">25</div>
                    <div class="calendar-day">26</div>
                    <div class="calendar-day weekend">27</div>
                    <div class="calendar-day weekend">28</div>
                </div>
                
                <div class="calendar-info">
                    <div class="stickers-info">
                        <div class="sticker-count">
                            <span id="available-stickers">0</span> stickers available
                        </div>
                        <div class="sticker-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="sticker-progress-fill"></div>
                            </div>
                            <div class="progress-text">
                                <span id="current-points-to-sticker">0</span>/5 points to next sticker
                            </div>
                        </div>
                    </div>
                    
                    <div class="rewards-info">
                        <h3>Rewards Tiers</h3>
                        <div class="reward-tier">
                            <div class="tier-icon"><i class="fas fa-gift"></i></div>
                            <div class="tier-details">
                                <div class="tier-name">Row Completion</div>
                                <div class="tier-desc">Complete a row to earn a surprise reward!</div>
                            </div>
                        </div>
                        <div class="reward-tier">
                            <div class="tier-icon"><i class="fas fa-star"></i></div>
                            <div class="tier-details">
                                <div class="tier-name">Full Calendar</div>
                                <div class="tier-desc">Fill the entire calendar for a premium reward!</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="actions">
            <button class="btn"><i class="fas fa-file-alt"></i> View Full Statement</button>
            <button class="btn btn-outline" onclick="window.location.href='../marketplace/marketplace.html'"><i class="fas fa-store"></i> Rewards Marketplace</button>
            <button class="btn"><i class="fas fa-share-alt"></i> Refer a Friend</button>
        </div>
    </div>
    <script>
        // Animate points counter
        function animateCounter(id, target, duration) {
            const element = document.getElementById(id);
            let start = 0;
            const increment = target / (duration / 16); // ~60fps
            const timer = setInterval(() => {
                start += increment;
                if (start >= target) {
                    element.textContent = target.toLocaleString() + " pts";
                    clearInterval(timer);
                    element.classList.remove('pulse');
                } else {
                    element.textContent = Math.floor(start).toLocaleString() + " pts";
                }
            }, 16);
        }
        
        // Calendar and sticker functionality
        function initCalendar() {
            const totalPoints = 5420;
            const pointsPerSticker = 5;
            
            // Calculate available stickers and remaining points
            const availableStickers = Math.floor(totalPoints / pointsPerSticker);
            const remainingPoints = totalPoints % pointsPerSticker;
            
            // Update sticker info
            document.getElementById('available-stickers').textContent = availableStickers;
            document.getElementById('current-points-to-sticker').textContent = remainingPoints;
            
            // Update progress bar
            const progressFill = document.getElementById('sticker-progress-fill');
            progressFill.style.width = (remainingPoints / pointsPerSticker * 100) + '%';
            
            // Get all calendar days
            const calendarDays = document.querySelectorAll('.calendar-day');
            let placedStickers = 0;
            
            // Add click event to calendar days
            calendarDays.forEach(day => {
                day.addEventListener('click', function() {
                    // Check if we have stickers available and this day doesn't have a sticker yet
                    if (availableStickers > placedStickers && !this.classList.contains('has-sticker')) {
                        this.classList.add('has-sticker');
                        placedStickers++;
                        
                        // Update available stickers count
                        document.getElementById('available-stickers').textContent = availableStickers - placedStickers;
                        
                        // Check if a row is completed
                        checkForCompletedRows();
                    } else if (this.classList.contains('has-sticker')) {
                        // Remove sticker if already placed
                        this.classList.remove('has-sticker');
                        placedStickers--;
                        
                        // Update available stickers count
                        document.getElementById('available-stickers').textContent = availableStickers - placedStickers;
                    } else {
                        // No stickers available
                        alert('You need to earn more points to get more stickers! Every 5 points = 1 sticker.');
                    }
                });
            });
            
            // Function to check if any rows are completed
            function checkForCompletedRows() {
                // Get all days in a 7-column grid
                const rows = [
                    Array.from(calendarDays).slice(0, 7),   // Week 1
                    Array.from(calendarDays).slice(7, 14),  // Week 2
                    Array.from(calendarDays).slice(14, 21), // Week 3
                    Array.from(calendarDays).slice(21, 28)  // Week 4
                ];
                
                // Check each row
                rows.forEach((row, index) => {
                    const allHaveStickers = row.every(day => day.classList.contains('has-sticker'));
                    
                    if (allHaveStickers) {
                        // Row completed!
                        setTimeout(() => {
                            alert(`Congratulations! You've completed Week ${index + 1} and earned a surprise reward!\n\nYour reward: 500 bonus points added to your account!`);
                            
                            // Add animation to the completed row
                            row.forEach(day => {
                                day.style.animation = 'pulse 1s infinite';
                                setTimeout(() => {
                                    day.style.animation = '';
                                }, 3000);
                            });
                        }, 500);
                    }
                });
                
                // Check if all days have stickers
                const allDaysHaveStickers = Array.from(calendarDays).every(day => day.classList.contains('has-sticker'));
                
                if (allDaysHaveStickers) {
                    setTimeout(() => {
                        alert('Amazing! You\'ve filled the entire calendar!\n\nYou\'ve earned a PREMIUM REWARD: 2000 bonus points and a special badge for your profile!');
                    }, 1000);
                }
            }
        }
        
        // Start the animation when page loads
        window.addEventListener('load', function() {
            animateCounter("points-counter", 5420, 2000);
            
            // Add interaction to reward items
            document.querySelectorAll('.reward-item').forEach(item => {
                item.addEventListener('click', function() {
                    const rewardName = this.querySelector('.reward-name').textContent;
                    alert(`You've selected: ${rewardName}\n\nRedirecting to redemption page...`);
                });
            });
            
            // Initialize calendar functionality
            initCalendar();
        });
    </script>
</body>
</html>
